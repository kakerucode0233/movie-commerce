<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>動画コマース　デモ</title>
  <link rel="stylesheet" href="css/pc.css">
</head>
<body>
  <main>
    <div id="app">
      <div class="movie-wrapper">
        <video id="movie" controls="controls" loop width="800" height="358" class="movie">
          <source src="https://static.low-ya.com/features/outdoor/pc/mv_video.mp4">
        </video>
        <button v-on:click="favoriteProducts.length>0?checkProducts():'none'" class="favorite-item-number">{{favoriteProducts.length}}</button>
        <ul>
          <li v-for="(product, index) in products">
            <div :id="`hotspot-${index}`" :class="`button-wrapper-${index}`" hidden>
              <component :is="'style'">
                .button-wrapper-{{index}}{
                  position: absolute;
                  top: {{product.position[0]}}px;
                  left: {{product.position[1]}}px;
                }
              </component>
              <button v-on:click="onClick(index)" class="button"/>
            </div>
            <div :id="`detail-box-${index}`" :class="`detail-box-wrapper-${index}`" hidden>
              <component :is="'style'">
                .detail-box-wrapper-{{index}}{
                  transition: 0.5s;
                  position: absolute;
                  top: {{detailBoxPosition[0]}}%;
                  left: {{detailBoxPosition[1]}}%;
                }
              </component>
              <div class="detail-box-inner">
                
                <ul class="detail-button-list">
                  <li v-on:click="favorite(index)" class="detail-button-item">
                    <p v-if="product.isFavorite">★</p>
                    <p v-else>☆</p>
                  </li>
                  <li v-on:click="quiteDetail(index)" class="detail-button-item">X</li>
                </ul>
                <a :href="product.link" target="_blank" class="detail-link">
                  <img :src="product.img" :alt="product.alt" width="170" height="170" class="detail-img">
                  <p class="detail-name">{{product.name}}</p>
                  <div class="detail-price-wrapper">
                    <p>￥{{product.price}}</p>
                    <p v-if="product.isFreePostage" class="detail-postage">送料無料</p>
                  </div>
                </a>
              </div>
            </div>
          </li>
        </ul>
        <div id="check-favorite-product" class="check-product-wrapper" hidden>
          <ul class="check-product-list">
            <template v-for="favoriteProduct in favoriteProducts">
              <li v-if="favoriteProduct" class="check-product-item">
                <component :is="'style'">
                  .check-product-item{
                    right: {{rightSpace}}px
                  }
                </component>
                <a :href="favoriteProduct.link" target="_blank" class="detail-link">
                  <img :src="favoriteProduct.img" :alt="favoriteProduct.alt" width="170" height="170" class="detail-img">
                  <p class="detail-name">{{favoriteProduct.name}}</p>
                  <div class="detail-price-wrapper">
                    <p>￥{{favoriteProduct.price}}</p>
                    <p v-if="favoriteProduct.isFreePostage" class="detail-postage">送料無料</p>
                  </div>
                </a>
              </li>
            </template>
            <button v-on:click="quiteCheckProducts()" class="check-product-quit-button">X</button>
            <button v-if="isShowNextButton" v-on:click="nextProduct()" class="check-product-next-button"></button>
            <button v-if="isShowBackButton" v-on:click="backProduct()" class="check-product-back-button"></button>
          </ul>
        </div>
      </div>

      <p id="movie-time"></p>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script src="js/main.js"></script>
</body>
</html>